<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Demo</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js"></script>
    <script src="http://vue-charts.hchspersonal.tk/js/vue-charts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.min.js"></script>
</head>

<body>
    <div id="app">
        <canvas id="mycanvas" v-bind:count="lines.length"></canvas>
        <div>
            <div v-for="item in lines">
                <chartjs-line v-bind:datalabel="item.label" v-bind:data="item.tab" target="mycanvas" v-bind:backgroundcolor="item.color"
                    v-bind:bordercolor="item.color" :scalesdisplay="true" v-bind:labels="x"></chartjs-line>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    function loadJSON(callback) {
        var xobj = new XMLHttpRequest();
        xobj.overrideMimeType("application/json");
        xobj.open('GET', 'data.json', true);
        xobj.onreadystatechange = function () {
            if (xobj.readyState == 4 && xobj.status == "200") {
                callback(xobj.responseText);
            }
        };
        xobj.send(null);
    }

    function nextInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min)) + min;
    }

    function generateRandomColor() {
        let red = nextInt(0,256);
        let green = nextInt(0,256);
        let blue = nextInt(0,256);

        red = (red + 125) / 2;
        green = (green + 125) / 2;
        blue = (blue + 125) / 2;

        return "rgba(" +red +", "+green+", "+blue+",1)";
    }

    function init()
    {
        loadJSON(function (response) 
        {
            const data = JSON.parse(response);
            let charts = data.map(function(x) {
                return {
                    label: x.name,
                    tab: x.feed.map(x => x * 10),
                    color: x.name === "Bot Wisdom" ? "red" : generateRandomColor()
             }});

            Vue.use(VueCharts);
            const app = new Vue({
                el: "#app",
                data: {
                    lines: charts,
                    x: Array.apply(null, { length: 100}).map((_,i)=>i) //charts[0].tab.length })
                }
            });
        });
    }
    init();
    </script>
</body>

</html>